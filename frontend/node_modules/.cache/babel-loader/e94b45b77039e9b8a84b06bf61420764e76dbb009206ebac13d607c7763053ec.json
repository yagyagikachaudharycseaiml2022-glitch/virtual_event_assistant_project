{"ast":null,"code":"var _jsxFileName = \"D:\\\\virtual_event_assistant_project\\\\virtual_event_assistant_project\\\\virtual_event_assistant_project\\\\frontend\\\\src\\\\components\\\\AIAssistant.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AIAssistant({\n  onNavigate\n}) {\n  _s();\n  const [text, setText] = useState('');\n  const [listening, setListening] = useState(false);\n  const [history, setHistory] = useState([]);\n  let recognition = null;\n  if (typeof window !== 'undefined' && ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window)) {\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    recognition = new SpeechRecognition();\n    recognition.lang = 'en-IN';\n    recognition.interimResults = false;\n    recognition.maxAlternatives = 1;\n  }\n  function startListening() {\n    if (!recognition) return alert('Speech recognition not supported (use Chrome).');\n    setListening(true);\n    recognition.start();\n    recognition.onresult = e => {\n      const t = e.results[0][0].transcript;\n      setText(t);\n      handleSend(t);\n    };\n    recognition.onerror = e => {\n      console.error(e);\n      setListening(false);\n    };\n    recognition.onend = () => setListening(false);\n  }\n  async function handleSend(overrideText) {\n    const q = overrideText !== null && overrideText !== void 0 ? overrideText : text;\n    if (!q) return;\n    setHistory(h => [...h, {\n      who: 'user',\n      text: q\n    }]);\n    setText('');\n    try {\n      const res = await onNavigate(q);\n      const answer = res && res.path ? `Route: ${res.path.map(p => p.label || p.id).join(' â†’ ')}` : 'No path found.';\n      setHistory(h => [...h, {\n        who: 'assistant',\n        text: answer\n      }]);\n    } catch (e) {\n      setHistory(h => {\n        var _e$response, _e$response$data;\n        return [...h, {\n          who: 'assistant',\n          text: 'Error: ' + ((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.detail) || e.message)\n        }];\n      });\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-1\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg p-3 shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: text,\n          onChange: e => setText(e.target.value),\n          placeholder: \"Say: I'm at Gate 3, take me to Hall 5\",\n          className: \"flex-1 border border-slate-200 rounded-md px-3 py-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => startListening(),\n          className: `px-4 py-2 rounded-md ${listening ? 'bg-rose-500 text-white' : 'bg-amber-400 text-white'}`,\n          children: \"\\uD83C\\uDFA4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleSend(),\n          className: \"px-4 py-2 bg-sky-600 text-white rounded-md\",\n          children: \"Navigate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3 space-y-1 max-h-36 overflow-auto\",\n        children: history.slice().reverse().map((m, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `text-sm ${m.who === 'user' ? 'text-right' : 'text-left'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `inline-block px-3 py-1 rounded ${m.who === 'user' ? 'bg-indigo-100 text-indigo-900' : 'bg-slate-100 text-slate-800'}`,\n            children: m.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(AIAssistant, \"nyMtQfg93whGgvVRTENaetmlbII=\");\n_c = AIAssistant;\nvar _c;\n$RefreshReg$(_c, \"AIAssistant\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","AIAssistant","onNavigate","_s","text","setText","listening","setListening","history","setHistory","recognition","window","SpeechRecognition","webkitSpeechRecognition","lang","interimResults","maxAlternatives","startListening","alert","start","onresult","e","t","results","transcript","handleSend","onerror","console","error","onend","overrideText","q","h","who","res","answer","path","map","p","label","id","join","_e$response","_e$response$data","response","data","detail","message","className","children","value","onChange","target","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","onClick","slice","reverse","m","i","_c","$RefreshReg$"],"sources":["D:/virtual_event_assistant_project/virtual_event_assistant_project/virtual_event_assistant_project/frontend/src/components/AIAssistant.js"],"sourcesContent":["import React, { useState } from 'react';\n\nexport default function AIAssistant({ onNavigate }){\n  const [text, setText] = useState('');\n  const [listening, setListening] = useState(false);\n  const [history, setHistory] = useState([]);\n\n  let recognition = null;\n  if(typeof window !== 'undefined' && ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window)){\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    recognition = new SpeechRecognition();\n    recognition.lang = 'en-IN';\n    recognition.interimResults = false;\n    recognition.maxAlternatives = 1;\n  }\n\n  function startListening(){\n    if(!recognition) return alert('Speech recognition not supported (use Chrome).');\n    setListening(true);\n    recognition.start();\n    recognition.onresult = (e) => {\n      const t = e.results[0][0].transcript;\n      setText(t);\n      handleSend(t);\n    };\n    recognition.onerror = (e) => { console.error(e); setListening(false); };\n    recognition.onend = () => setListening(false);\n  }\n\n  async function handleSend(overrideText){\n    const q = overrideText ?? text;\n    if(!q) return;\n    setHistory(h => [...h, { who: 'user', text: q }]);\n    setText('');\n    try{\n      const res = await onNavigate(q);\n      const answer = (res && res.path) ? `Route: ${res.path.map(p=>p.label||p.id).join(' â†’ ')}` : 'No path found.';\n      setHistory(h => [...h, { who: 'assistant', text: answer }]);\n    }catch(e){\n      setHistory(h => [...h, { who: 'assistant', text: 'Error: ' + (e?.response?.data?.detail || e.message) }]);\n    }\n  }\n\n  return (\n    <div className='flex-1'>\n      <div className='bg-white rounded-lg p-3 shadow-sm'>\n        <div className='flex gap-2'>\n          <input value={text} onChange={e=>setText(e.target.value)} placeholder=\"Say: I'm at Gate 3, take me to Hall 5\" className='flex-1 border border-slate-200 rounded-md px-3 py-2' />\n          <button onClick={()=> startListening()} className={`px-4 py-2 rounded-md ${listening ? 'bg-rose-500 text-white' : 'bg-amber-400 text-white'}`}>ðŸŽ¤</button>\n          <button onClick={()=>handleSend()} className='px-4 py-2 bg-sky-600 text-white rounded-md'>Navigate</button>\n        </div>\n\n        <div className='mt-3 space-y-1 max-h-36 overflow-auto'>\n          {history.slice().reverse().map((m,i)=>(\n            <div key={i} className={`text-sm ${m.who==='user' ? 'text-right' : 'text-left'}`}>\n              <div className={`inline-block px-3 py-1 rounded ${m.who==='user' ? 'bg-indigo-100 text-indigo-900' : 'bg-slate-100 text-slate-800'}`}>{m.text}</div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}