{"ast":null,"code":"import React,{useEffect,useState}from'react';import WelcomeScreen from'./components/WelcomeScreen';import AIAssistant from'./components/AIAssistant';import MapCanvas from'./components/MapCanvas';import SchedulePanel from'./components/SchedulePanel';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE=process.env.REACT_APP_API_BASE||'http://localhost:8000';export default function App(){const[showWelcome,setShowWelcome]=useState(true);const[blueprint,setBlueprint]=useState(null);const[venueId]=useState('miet-meerut');const[selectedPath,setSelectedPath]=useState(null);useEffect(()=>{const t=setTimeout(()=>setShowWelcome(false),2200);return()=>clearTimeout(t);},[]);useEffect(()=>{async function load(){try{const res=await fetch(\"/data/venues/\".concat(venueId,\".json\"));if(res.ok){const bp=await res.json();setBlueprint(bp);return;}}catch(e){}try{const r2=await axios.get(\"\".concat(API_BASE,\"/venues/\").concat(venueId));setBlueprint(r2.data);}catch(e){setBlueprint({venue_name:'MIET (sample)',nodes:[{id:'Main Gate',x:80,y:80},{id:'Library',x:300,y:160},{id:'Lecture Hall 2',x:300,y:320},{id:'Hostel',x:80,y:360}],edges:[{from:'Main Gate',to:'Library',distance:200},{from:'Library',to:'Lecture Hall 2',distance:160},{from:'Lecture Hall 2',to:'Hostel',distance:200}]});}}load();},[venueId]);async function handleNavigationQuery(text){const res=await axios.post(\"\".concat(API_BASE,\"/navigate\"),{venue_id:venueId,text});setSelectedPath(res.data.path||res.data);return res.data;}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-sky-100 via-indigo-100 to-pink-50 flex items-center justify-center p-6\",children:showWelcome?/*#__PURE__*/_jsx(WelcomeScreen,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-6xl grid lg:grid-cols-12 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-7 bg-white rounded-2xl shadow-xl p-6 flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-sky-700\",children:\"Virtual Event Assistant\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500\",children:\"Ask where to go \\u2014 by voice or text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-slate-400\",children:[\"Venue: \",/*#__PURE__*/_jsx(\"strong\",{children:(blueprint===null||blueprint===void 0?void 0:blueprint.venue_name)||venueId})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-4 mb-4\",children:/*#__PURE__*/_jsx(AIAssistant,{onNavigate:handleNavigationQuery})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(MapCanvas,{blueprint:blueprint,path:selectedPath})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-5 flex flex-col gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold mb-2\",children:\"Today's Schedule\"}),/*#__PURE__*/_jsx(SchedulePanel,{venueId:venueId,apiBase:API_BASE})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold mb-2\",children:\"Assistant Logs\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-500\",children:\"Responses from AI and navigation are shown on the map and as chat bubbles.\"})]})]})]})});}","map":{"version":3,"names":["React","useEffect","useState","WelcomeScreen","AIAssistant","MapCanvas","SchedulePanel","axios","jsx","_jsx","jsxs","_jsxs","API_BASE","process","env","REACT_APP_API_BASE","App","showWelcome","setShowWelcome","blueprint","setBlueprint","venueId","selectedPath","setSelectedPath","t","setTimeout","clearTimeout","load","res","fetch","concat","ok","bp","json","e","r2","get","data","venue_name","nodes","id","x","y","edges","from","to","distance","handleNavigationQuery","text","post","venue_id","path","className","children","onNavigate","apiBase"],"sources":["D:/7th SEM PROEJCT/virtual_event_assistant_project/virtual_event_assistant_project/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport WelcomeScreen from './components/WelcomeScreen';\nimport AIAssistant from './components/AIAssistant';\nimport MapCanvas from './components/MapCanvas';\nimport SchedulePanel from './components/SchedulePanel';\nimport axios from 'axios';\n\nconst API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:8000';\n\nexport default function App(){\n  const [showWelcome, setShowWelcome] = useState(true);\n  const [blueprint, setBlueprint] = useState(null);\n  const [venueId] = useState('miet-meerut');\n  const [selectedPath, setSelectedPath] = useState(null);\n\n  useEffect(()=>{ const t=setTimeout(()=>setShowWelcome(false), 2200); return ()=>clearTimeout(t); }, []);\n\n  useEffect(()=>{\n    async function load(){\n      try{\n        const res = await fetch(`/data/venues/${venueId}.json`);\n        if(res.ok){ const bp = await res.json(); setBlueprint(bp); return; }\n      }catch(e){}\n      try{ const r2 = await axios.get(`${API_BASE}/venues/${venueId}`); setBlueprint(r2.data); }catch(e){\n        setBlueprint({\n          venue_name: 'MIET (sample)',\n          nodes:[{id:'Main Gate',x:80,y:80},{id:'Library',x:300,y:160},{id:'Lecture Hall 2',x:300,y:320},{id:'Hostel',x:80,y:360}],\n          edges:[{from:'Main Gate',to:'Library',distance:200},{from:'Library',to:'Lecture Hall 2',distance:160},{from:'Lecture Hall 2',to:'Hostel',distance:200}]\n        });\n      }\n    }\n    load();\n  },[venueId]);\n\n  async function handleNavigationQuery(text){\n    const res = await axios.post(`${API_BASE}/navigate`, { venue_id: venueId, text });\n    setSelectedPath(res.data.path || res.data);\n    return res.data;\n  }\n\n  return (\n    <div className='min-h-screen bg-gradient-to-br from-sky-100 via-indigo-100 to-pink-50 flex items-center justify-center p-6'>\n      {showWelcome ? (\n        <WelcomeScreen />\n      ) : (\n        <div className='w-full max-w-6xl grid lg:grid-cols-12 gap-6'>\n          <div className='lg:col-span-7 bg-white rounded-2xl shadow-xl p-6 flex flex-col'>\n            <div className='flex items-center justify-between mb-4'>\n              <div>\n                <h1 className='text-2xl font-bold text-sky-700'>Virtual Event Assistant</h1>\n                <p className='text-sm text-slate-500'>Ask where to go â€” by voice or text</p>\n              </div>\n              <div className='text-sm text-slate-400'>Venue: <strong>{blueprint?.venue_name || venueId}</strong></div>\n            </div>\n\n            <div className='flex gap-4 mb-4'>\n              <AIAssistant onNavigate={handleNavigationQuery} />\n            </div>\n\n            <div className='flex-1'>\n              <MapCanvas blueprint={blueprint} path={selectedPath} />\n            </div>\n          </div>\n\n          <div className='lg:col-span-5 flex flex-col gap-4'>\n            <div className='bg-white rounded-2xl shadow-xl p-4'>\n              <h2 className='font-semibold mb-2'>Today's Schedule</h2>\n              <SchedulePanel venueId={venueId} apiBase={API_BASE} />\n            </div>\n\n            <div className='bg-white rounded-2xl shadow-xl p-4'>\n              <h2 className='font-semibold mb-2'>Assistant Logs</h2>\n              <p className='text-xs text-slate-500'>Responses from AI and navigation are shown on the map and as chat bubbles.</p>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}